//-*- coding:utf-8 -*-
// Generated by the Fetch-Leetcode project on the Github
// https://github.com/CJHMPower/Fetch-Leetcode/

// 567 Permutation in String
// https://leetcode.com//problems/permutation-in-string/description/
// Fetched at 2018-07-24
// Submitted 5 months, 1 week ago
// Runtime: 181 ms
// This solution defeats 5.43% cpp solutions

class Solution {
 public:
  bool checkInclusion(string s1, string s2) {
    int m = s1.size();
    vector<int> hash(128, 0);
    for (auto a : s1) {
      hash[int(a)] += 1;
    }
    int p2 = 0;
    vector<int> temp = hash;
    while (p2 < s2.size()) {
      while (p2 < s2.size() && hash[int(s2[p2])] == 0) {
        p2++;
      }
      int t1 = p2;
      m = s1.size();
      while (p2 < s2.size() && hash[int(s2[p2])] > 0) {
        hash[int(s2[p2])]--;
        m--;
        p2++;
      }
      if (m <= 0) {
        return true;
      } else {
        hash = temp;
        p2 = t1 + 1;
      }
    }
    return false;
  }
};